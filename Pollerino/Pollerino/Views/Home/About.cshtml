@model Pollerino.Models.Poll

@{
    ViewBag.Title = "Poll";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    @Html.HiddenFor(m => m.MultipleChoices)
    @Html.HiddenFor(m => m.PollId)
    @Html.DisplayFor(m => m.QuestionText)
    <br />

    if (Model.MultipleChoices)
    {
        for (int i = 0; i < Model.Options.Count(); i++)
        {

            @Html.HiddenFor(x => Model.Options[i].OptionId)
            @Html.HiddenFor(x => Model.Options[i].PollId)
            @Html.CheckBoxFor(x => Model.Options[i].WasChecked)
            @Html.DisplayFor(x => Model.Options[i].OptionText)
            <br />
        }
    }
    else
    {
        foreach (var option in Model.Options)
        {
            @Html.HiddenFor(x => option.OptionId)
            @Html.HiddenFor(x => option.PollId)
            @Html.RadioButtonFor(x => Model.SelectedItem, option.OptionId)
            @Html.DisplayFor(x => option.OptionText)
            <br />
        }
    }
    <input type="submit" value="Submit" />
}

